(function(){"use strict";var t={1732:function(t,e,n){var i=n(9242),s=n(3396);const a=(0,s.Uk)("Авторизация"),o=(0,s.Uk)(" | "),r=(0,s.Uk)("Аналитика"),u={class:"container"};function l(t,e){const n=(0,s.up)("router-link"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",null,[(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((()=>[a])),_:1}),o,(0,s.Wm)(n,{to:"/analytics"},{default:(0,s.w5)((()=>[r])),_:1})]),(0,s._)("div",u,[(0,s.Wm)(i)])],64)}var d=n(89);const c={},v=(0,d.Z)(c,[["render",l]]);var f=v,p=n(678);const h=t=>((0,s.dD)("data-v-46e03f5e"),t=t(),(0,s.Cn)(),t),m={class:"home"},b=h((()=>(0,s._)("h1",null,"LeadHit",-1))),w={class:"id-form"},g={ref:"errorRef",class:"form-text"},y=(0,s.Uk)("Войти");function x(t,e,n,a,o,r){const u=(0,s.up)("MDBInput"),l=(0,s.up)("MDBBtn");return(0,s.wg)(),(0,s.iD)("div",m,[b,(0,s._)("form",w,[(0,s.Wm)(u,{onInput:a.inputHandler,class:"mb-3",color:"danger",counter:"",maxlength:24,label:"ID сайта",modelValue:a.userInput,"onUpdate:modelValue":e[0]||(e[0]=t=>a.userInput=t)},null,8,["onInput","modelValue"]),(0,s._)("span",g," id сайта должен содержать 24 символа ",512),(0,s.Wm)(l,{onClick:(0,i.iM)(a.submitHandler,["prevent"]),type:"submit",color:"primary",rounded:""},{default:(0,s.w5)((()=>[y])),_:1},8,["onClick"])])])}var _=n(6818),D=n(4870),M={name:"AuthView",components:{MDBInput:_.MDBInput,MDBBtn:_.MDBBtn},setup(){const t=(0,D.iH)(""),e=(0,D.iH)(null),n=(0,p.tv)(),i=()=>{e.value.classList.add("form-text--active")},s=()=>{e.value.classList.remove("form-text--active")},a=async()=>{const e=await fetch("https://track-api.leadhit.io/client/test_auth",{method:"GET",headers:{"Api-Key":"5f8475902b0be670555f1bb3:eEZn8u05G3bzRpdL7RiHCvrYAYo","Leadhit-Site-Id":t.value}}),i=await e.json(),{message:s}=i;"ok"===s?(localStorage.setItem("leadhit-site-id","5f8475902b0be670555f1bb3"),n.push("/analytics")):console.log("something went wrong")},o=()=>{24!==t.value.length?i():24===t.value.length&&a()},r=()=>{e.value.classList.contains("form-text--active")&&s()};return{userInput:t,submitHandler:o,errorRef:e,inputHandler:r}}};const k=(0,d.Z)(M,[["render",x],["__scopeId","data-v-46e03f5e"]]);var I=k;const O=t=>((0,s.dD)("data-v-9697939c"),t=t(),(0,s.Cn)(),t),T=O((()=>(0,s._)("h1",null,"Аналитика",-1))),H=O((()=>(0,s._)("h3",null,"Аналитика по визитам",-1))),j={class:"hello",ref:"chartdiv"};function S(t,e,n,i,a,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[T,H,(0,s._)("div",j,null,512)],64)}var A=n(8439),B=n(1006),C=n(352),Y=n(9973),L=n(460),U=n(7776),W=n(8224),P=n(110),F=n(3281),Z=n(2555),$=n(3309),z=n(1145),R=n(1736),V={name:"HelloWorld",beforeMount(){const t=localStorage.getItem("leadhit-site-id");t||this.$router.push("/")},mounted(){const t=this.$store.state.visitsData,e=t.map((t=>{const e={date:new Date(t.date).getTime(),visits:t.visits};return e}));let n=A.f["new"](this.$refs.chartdiv);n.setThemes([R.Z["new"](n)]);var i=n.container.children.push(U.z["new"](n,{panY:!1,wheelY:"zoomX",layout:n.verticalLayout,maxTooltipDistance:0})),s=i.yAxes.push(W.m["new"](n,{extraTooltipPrecision:1,renderer:P.j["new"](n,{})}));let a=i.xAxes.push(F.S["new"](n,{baseInterval:{timeUnit:"day",count:1},renderer:Z.n["new"](n,{})}));function o(t,o){var r=i.series.push($.e["new"](n,{name:t,xAxis:a,yAxis:s,valueYField:o,valueXField:"date",tooltip:B.u["new"](n,{})}));r.bullets.push((function(){return C.g["new"](n,{sprite:Y.C["new"](n,{radius:5,fill:r.get("fill")})})})),r.strokes.template.set("strokeWidth",2),r.get("tooltip").label.set("text","[bold]{name}[/]\n{valueX.formatDate()}: {valueY}"),r.data.setAll(e),r.set("fill",L.$_("#9955fc")),r.set("stroke",L.$_("#9955fc"))}a.get("dateFormats")["day"]="MM/dd",a.get("periodChangeDateFormats")["day"]="MMMM",o("Series","visits"),i.set("cursor",z.L["new"](n,{behavior:"zoomXY",xAxis:a})),a.set("tooltip",B.u["new"](n,{themeTags:["axis"]})),s.set("tooltip",B.u["new"](n,{themeTags:["axis"]})),this.root=n},beforeUnmount(){this.root&&this.root.dispose()}};const X=(0,d.Z)(V,[["render",S],["__scopeId","data-v-9697939c"]]);var E=X;const G=[{path:"/",name:"auth",component:I},{path:"/analytics",name:"analytics",component:E}],K=(0,p.p7)({history:(0,p.PO)("/leadhit/"),routes:G});var q=K,J=n(65),N=(0,J.MT)({state:{visitsData:[{date:"2020-07-01",visits:213},{date:"2020-07-02",visits:249},{date:"2020-07-03",visits:179},{date:"2020-07-04",visits:170},{date:"2020-07-05",visits:184},{date:"2020-07-06",visits:202},{date:"2020-07-07",visits:198},{date:"2020-07-08",visits:168},{date:"2020-07-09",visits:176},{date:"2020-07-10",visits:171},{date:"2020-07-11",visits:190},{date:"2020-07-12",visits:154},{date:"2020-07-13",visits:246},{date:"2020-07-14",visits:250},{date:"2020-07-15",visits:227},{date:"2020-07-16",visits:140},{date:"2020-07-17",visits:170},{date:"2020-07-18",visits:125},{date:"2020-07-19",visits:106},{date:"2020-07-20",visits:207},{date:"2020-07-21",visits:222},{date:"2020-07-22",visits:198},{date:"2020-07-23",visits:204},{date:"2020-07-24",visits:213},{date:"2020-07-25",visits:145},{date:"2020-07-26",visits:166},{date:"2020-07-27",visits:163},{date:"2020-07-28",visits:135},{date:"2020-07-29",visits:45}]},mutations:{}});(0,i.ri)(f).use(N).use(q).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],a=t[d][2];for(var r=!0,u=0;u<i.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(r=!1,a<o&&(o=a));if(r){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],r=i[1],u=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(u)var d=u(n)}for(e&&e(i);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkleadhit"]=self["webpackChunkleadhit"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(1732)}));i=n.O(i)})();
//# sourceMappingURL=app.a18e5b26.js.map